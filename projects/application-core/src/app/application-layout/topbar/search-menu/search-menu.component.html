<!-- search-menu.component.html -->
<section class="searchbar-section">
  <div class="search-bar">
    <form [formGroup]="searchForm">
      <div class="input-container">
        <input
          type="text"
          formControlName="query"
          class="search-input"
          placeholder="Search..."
        />
        <i class="fa fa-search"></i>
      </div>
    </form>
    <div
      *ngIf="searchForm.get('query')?.value && filteredData.length === 0"
      class="no-results"
    >
      <div class="no-result-flex">
        <i class="fa-regular fa-circle-user"></i>
        <p>No Search Result</p>
      </div>
      <span>Found with "{{ searchForm.get("query")?.value }}" </span>
    </div>
    <div
      *ngIf="searchForm.get('query')?.value !== '' && filteredData.length > 0"
      class="search-results"
    >
      <ul>
        <li>
          <div class="search-result-top">
            <p>Search result of</p>
            <span> "{{ searchForm.get("query")?.value }}"</span>
          </div>
          <ng-container *ngFor="let result of filteredData">
            <div class="search-results-flex">
              <i class="fa-solid fa-angles-right"></i>
              <p>{{ result.name }}</p>
            </div>
          </ng-container>
        </li>
      </ul>
    </div>
  </div>
  <div class="responsive-search-bar">
    <div class="icon" (click)="toggleMenu()">
      <i class="fa fa-search"></i>
    </div>
    <div class="accordion-content" [class.open]="isMenuOpen">
      <form [formGroup]="searchForm">
        <div class="input-icon-container">
          <div class="search-input">
            <input
              type="text"
              formControlName="query"
              class="search-input"
              placeholder="Search..."
            />
          </div>

          <div class="search-icon">
            <i class="fa fa-search"></i>
          </div>
        </div>
      </form>
      <div
        *ngIf="searchForm.get('query')?.value && filteredData.length === 0"
        class="no-results"
      >
        <div class="no-result-flex">
          <i class="fa-regular fa-circle-user"></i>
          <p>No Search Result</p>
        </div>
        <span>Found with "{{ searchForm.get("query")?.value }}" </span>
      </div>

      <div
        *ngIf="searchForm.get('query')?.value !== '' && filteredData.length > 0"
        class="search-results"
      >
        <ul>
          <li>
            <div class="search-result-top">
              <p>Search result of</p>
              <span> "{{ searchForm.get("query")?.value }}"</span>
            </div>
            <ng-container *ngFor="let result of filteredData">
              <div class="search-results-flex">
                <i class="fa-solid fa-angles-right"></i>
                <p>{{ result.name }}</p>
              </div>
            </ng-container>
          </li>
        </ul>
      </div>
    </div>
  </div>
</section>
